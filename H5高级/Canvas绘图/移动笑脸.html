<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>canvas绘图</title>
		<style type="text/css">
			body{
				text-align: center;
			}
			canvas{
				background: #cecece;
			}
		</style>
	</head>
	<body>
		<h2>新特性canvas--会动的笑脸</h2>
		<canvas width="800px" height="400px" id="c3">
                       您的浏览器版本太低,请升级
        </canvas>
        <script type="text/javascript">
        	//张嘴
        	function openMouth(){
        		var c3=document.getElementById("c3")
	        	var ctx=c3.getContext("2d");
	        	ctx.beginPath();
	        	ctx.arc(250,200,100,30*Math.PI/180,340*Math.PI/180)
	        	ctx.lineTo(250,200)
	        	ctx.closePath();
	            ctx.stroke();
	            ctx.beginPath();
	        	ctx.arc(310,150,5,0*Math.PI/180,360*Math.PI/180)
	        	ctx.fillStyle="black";
	        	ctx.fill();
	            ctx.stroke();
	            ctx.beginPath();
	        	ctx.arc(300,150,15,0*Math.PI/180,360*Math.PI/180)
	            ctx.stroke();
        	}
        	//不张嘴
        	function closeMouth(){
	        	var c3=document.getElementById("c3")
	        	var ctx=c3.getContext("2d");
	        	ctx.beginPath();
	        	ctx.arc(250,200,100,0*Math.PI/180,360*Math.PI/180)
	        	ctx.lineTo(250,200)
	        	ctx.lineTo(350,200)
	            ctx.stroke();
	            ctx.beginPath();
	        	ctx.arc(310,150,5,0*Math.PI/180,360*Math.PI/180)
	        	ctx.fillStyle="black";
	        	ctx.fill();
	            ctx.stroke();
	            ctx.beginPath();
	        	ctx.arc(300,150,15,0*Math.PI/180,360*Math.PI/180)
	            ctx.stroke();
            	
        	}
        	
//          张嘴
            var c3=document.getElementById("c3")
        	var ctx=c3.getContext("2d");
        	ctx.beginPath();
        	ctx.arc(250,200,100,30*Math.PI/180,340*Math.PI/180)
        	ctx.lineTo(250,200)
        	ctx.closePath();
            ctx.stroke();
            ctx.beginPath();
        	ctx.arc(310,150,5,0*Math.PI/180,360*Math.PI/180)
        	ctx.fillStyle="black";
        	ctx.fill();
            ctx.stroke();
            ctx.beginPath();
        	ctx.arc(300,150,15,0*Math.PI/180,360*Math.PI/180)
            ctx.stroke();
            
            
        	var c3=document.getElementById("c3")
        	//2.获取画笔
        	var ctx=c3.getContext("2d");
        	var x=0;
        	var xDirection=1;  //1 向右 ; -1  向左
        	//创建一个定时器
        	var timer=setInterval(function(){
        	 	//清除原有矩形
        	 	ctx.clearRect(0,0,800,400);
        	 	//修改x位置
        	 	   x+=5*xDirection;
        	 	//重绘制矩形
        	 	//不张嘴
        	 	function closeMouth(){
		        	ctx.beginPath();
		        	ctx.arc(250+x,200,100,0*Math.PI/180,360*Math.PI/180)
		        	ctx.lineTo(250+x,200)
		        	ctx.lineTo(350+x,200)
		            ctx.stroke();
		            ctx.beginPath();
		        	ctx.arc(310+x,150,5,0*Math.PI/180,360*Math.PI/180)
		        	ctx.fillStyle="black";
		        	ctx.fill();
		            ctx.stroke();
		            ctx.beginPath();
		        	ctx.arc(300+x,150,15,0*Math.PI/180,360*Math.PI/180)
		            ctx.stroke();
	        	 	}
        	 	
//      	 	张嘴
                function openMouth(){
	        	 	ctx.beginPath();
	        	    ctx.arc(250+x,200,100,30*Math.PI/180,340*Math.PI/180)
		        	ctx.lineTo(250+x,200)
		        	ctx.closePath();
		            ctx.stroke();
		            ctx.beginPath();
		        	ctx.arc(310+x,150,5,0*Math.PI/180,360*Math.PI/180)
		        	ctx.fillStyle="black";
		        	ctx.fill();
		            ctx.stroke();
		            ctx.beginPath();
		            ctx.arc(300+x,150,15,0*Math.PI/180,360*Math.PI/180)
		            ctx.stroke();
		            //球
		            ctx.beginPath();
		            ctx.arc(300+x,205,15,0*Math.PI/180,360*Math.PI/180)
		        	ctx.fillStyle="yellow";
		        	ctx.fill();
		            ctx.beginPath();
		            
		        	
		           }
        	 	//判断  如果xDirection=-1,向左 ;如果xDirection=1,向右
        	 	 if(x%2==0 ){
        	 	 	openMouth()
        	 	 	xDirection=1;
        	 	 }else if(x%2==1 ){
        	 	 	closeMouth()
        	 	 	xDirection=1;
        	 	 }
        	 },500)
        </script>
	</body>
</html>
