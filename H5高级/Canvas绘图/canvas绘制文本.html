<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>canvas绘制文本</title>
		<style type="text/css">
			body{
				text-align: center;
			}
			canvas{
				background: #cecece;
			}
		</style>
	</head>
	<body>
		<h1>canvas--绘制文本</h1>
		<!--绘制画布-->
		<canvas width="500px" height="400px" id="c3">
                     您的浏览器版本太低,请升级
        </canvas>
        <script type="text/javascript">
        	var c3=document.getElementById("c3")
        	var ctx=c3.getContext("2d");
        	var str="abcxy"
        	ctx.textBaseline="top";
        	ctx.font="30px sans-serif";
          	//测量文本长度
        	ctx.measureText(str);
        	var obj=ctx.measureText(str);
            var w=obj.width
            console.log(w)
        	ctx.fillText(str,0,0); 
        	//注意:使用的先后顺序
        	ctx.fillText(str,500-w,0);
        	ctx.fillText(str,0,400-30);
        	ctx.fillText(str,500-w,400-30);
        	ctx.fillText(str,250-w/2,200-30/2);
        	//左右移动文本
//          ctx.fillText(str,x,100);
//          var x=0;
//      	var xDirection=1;  //1 向右 ; -1  向左
//      	//创建一个定时器
//      	var timer=setInterval(function(){
//      	 	//清除原有矩形
//      	 	   ctx.clearRect(0,0,500,400);
//      	 	//修改x位置
//      	 	   x+=5*xDirection;
//      	 	//重新绘制文本
//      	 	ctx.fillText(str,x,100);
//      	 	//判断  如果xDirection=-1,向左 ;如果xDirection=1,向右
//      	 	 if(x>500-w ){
//      	 	 	xDirection=-1;
//      	 	 }else if(x<0 ){
//      	 	 	xDirection=1;
//      	 	 }
//      	 },50)

           // 随机动
            ctx.fillText(str,x,y);
            var x=0
            var y=0
            var xDirection=1;
            var yDirection=1;
            var timer=setInterval(function(){
            	ctx.clearRect(0,0,500,400);
            	x+=5*xDirection;
            	y+=5*yDirection;
            	ctx.fillText(str,x,y);
            	if(x>500-w){
			 	 	 xDirection=-1;
			 	 }else if(x<0){
			 	 	xDirection=1;
			 	 }
			 	 if(y>400-30){
     			     yDirection=-1;
			 	 }else if(y<0){
     			    yDirection=1;
			 	 }
			 },100)

        </script>
        	
	</body>
</html>
